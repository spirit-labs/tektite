set max_line_width 200;
OK

matchesTopic := (kafka in partitions = 10)
-> (filter by matches(json_string("v4", val), "^bar"))
-> (store stream);
OK

--produce data dataset_matches;

(scan all from matchesTopic) -> (sort by key);
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| offset               | event_time                 | key                                            | hdrs                                           | val                                            |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 0                    | 2006-01-02 15:04:05.000000 | key01                                          | .                                              | {"v0": 1,"v1": 1.23,"v2": true,"v3": "123456.. |
| 0                    | 2006-01-02 15:06:05.000000 | key03                                          | .                                              | {"v0": 1,"v1": 3.23,"v2": true,"v3": "323456.. |
| 0                    | 2006-01-02 15:08:05.000000 | key05                                          | .                                              | {"v0": 2,"v1": 5.23,"v2": true,"v3": "523456.. |
| 1                    | 2006-01-02 15:10:05.000000 | key07                                          | .                                              | {"v0": 3,"v1": 7.23,"v2": true,"v3": "723456.. |
| 0                    | 2006-01-02 15:12:05.000000 | key09                                          | .                                              | {"v0": 3,"v1": 9.23,"v2": true,"v3": "923456.. |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
5 rows returned

delete(matchesTopic);
OK

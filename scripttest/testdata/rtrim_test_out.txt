set max_line_width 200;
OK

rtrimTopic := (kafka in partitions = 10)
-> (filter by rtrim(json_string("v4", val), " \t\n\r") == "bar")
-> (store stream);
OK

--produce data dataset_rtrim;

(scan all from rtrimTopic) -> (sort by key);
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| offset               | event_time                 | key                                            | hdrs                                           | val                                            |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 0                    | 2006-01-02 15:04:05.000000 | key01                                          | .                                              | {"v0": 1,"v1": 1.23,"v2": true,"v3": "123456.. |
| 0                    | 2006-01-02 15:06:05.000000 | key03                                          | .                                              | {"v0": 1,"v1": 3.23,"v2": true,"v3": "323456.. |
| 1                    | 2006-01-02 15:10:05.000000 | key07                                          | .                                              | {"v0": 3,"v1": 7.23,"v2": true,"v3": "723456.. |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
3 rows returned

delete(rtrimTopic);
OK
